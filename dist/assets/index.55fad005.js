var R=Object.defineProperty;var F=Object.getOwnPropertySymbols;var L=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable;var C=(n,e,r)=>e in n?R(n,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[e]=r,x=(n,e)=>{for(var r in e||(e={}))L.call(e,r)&&C(n,r,e[r]);if(F)for(var r of F(e))P.call(e,r)&&C(n,r,e[r]);return n};import{j as t,r as o,v as A,a as c,F as T,b as O,A as j,m as B,c as S,L as w,d as D,B as I,R as H,e as N,f as M,g as $}from"./vendor.7821c18c.js";const q=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const d of i.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerpolicy&&(i.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?i.credentials="include":a.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}};q();function E({text:n,textColor:e}){return t("header",{style:{color:e},children:t("h1",{children:n})})}E.defaultProps={text:"Feedback UI",textColor:"rgb(10,210,110)"};function p({children:n,dark:e,direction:r}){return t("div",{className:`card${e?" dark":""}`,style:{flexDirection:r},children:n})}p.defaultProps={dark:!1};const f=o.exports.createContext(),z=({children:n})=>{const[e,r]=o.exports.useState([{id:1,text:"This feedback number 1",rating:5},{id:2,text:"This feedback number 2",rating:3},{id:3,text:"This feedback number 3",rating:4}]),s=l=>{r(e.filter(h=>h.id!==l))},a=l=>{Object.defineProperty(l,"id",{value:A(),writable:!1}),r([l,...e])},[i,d]=o.exports.useState({item:{},edit:!1}),g=l=>{d({item:l,edit:!0})},b=(l,h)=>{r(e.map(m=>m.id===l?x(x({},m),h):m))};return t(f.Provider,{value:{feedbackList:e,removeFeedback:s,addFeedback:a,editFeedback:g,feedbackEdit:i,updateFeedback:b},children:n})};function K({item:n}){const{removeFeedback:e,editFeedback:r}=o.exports.useContext(f);return c(p,{children:[t("p",{className:"feedback-text",children:n.text}),t("span",{className:"feedback-rating",children:n.rating}),t("button",{className:"feedback-icon",onClick:()=>r(n),children:t(T,{})}),t("button",{className:"feedback-icon",onClick:()=>e(n.id),children:t(O,{})})]})}function Q(){const{feedbackList:n}=o.exports.useContext(f);return n!=null&&n.length?t("div",{className:"feedback-list",children:t(j,{children:n.map(e=>t(B.div,{initial:{opacity:0,transform:"100x"},animate:{opacity:1},exit:{opacity:0},children:t(K,{item:e},e.id)},e.id))})}):t(p,{children:t("p",{children:"No feedback yet!"})})}function U(){const{feedbackList:n}=o.exports.useContext(f);let e=n.reduce((r,s)=>r+s.rating,0)/n.length;return e=e.toFixed(1).replace(/[.,]0$/,""),c("div",{className:"feedback-status",children:[c("h4",{children:[n.length," Reviews"]}),c("h4",{children:["Average: ",isNaN(e)?0:e]})]})}function V({children:n,type:e,isDisabled:r}){return t("button",{type:e,disabled:r,title:r?"Review cannot be empty!":null,children:n})}function G({select:n}){const[e,r]=o.exports.useState(0),{feedbackEdit:s}=o.exports.useContext(f);o.exports.useEffect(()=>{r(s.item.rating)},[s]);const a=i=>{r(Number(i.target.value)),n(Number(i.target.value))};return t(S,{children:c("div",{className:"rating-list",children:[c("label",{children:[t("input",{type:"radio",name:"rating",value:"1",onChange:a,checked:e===1}),"1"]}),c("label",{children:[t("input",{type:"radio",name:"rating",value:"2",onChange:a,checked:e===2}),"2"]}),c("label",{children:[t("input",{type:"radio",name:"rating",value:"3",onChange:a,checked:e===3}),"3"]}),c("label",{children:[t("input",{type:"radio",name:"rating",value:"4",onChange:a,checked:e===4}),"4"]}),c("label",{children:[t("input",{type:"radio",name:"rating",value:"5",onChange:a,checked:e===5}),"5"]})]})})}function J(){const{addFeedback:n,feedbackEdit:e,updateFeedback:r}=o.exports.useContext(f);o.exports.useEffect(()=>{e.edit&&(h(!1),d("Edit your comment above."),a(e.item.text),b(e.item.rating))},[e]);const[s,a]=o.exports.useState(""),[i,d]=o.exports.useState(""),[g,b]=o.exports.useState(0),[l,h]=o.exports.useState(!0);return c(p,{direction:"column",children:[c("form",{onSubmit:u=>{var v;u.preventDefault();const k=Object.fromEntries(new FormData(u.target));if(((v=k==null?void 0:k.rating)!=null?v:0)===0){console.log("wow"),d("Please choose a rating (1-5).");return}if(s.trim().length>10){const y={text:s,rating:g};if(e.edit){r(e.item.id,y);return}n(y),a("")}},children:[t("h2",{children:"How whould you rate our service?"}),t(G,{select:u=>b(u)}),c("div",{className:"form-group",children:[t("input",{onChange:u=>{a(u.target.value),u.target.value.trim().length<10?d("Review should be at least 10 characters."):(h(!1),d(""))},name:"text",type:"text",placeholder:"write a review",value:s}),t(V,{type:"submit",isDisabled:l,children:"Send"})]})]}),t("p",{children:i})]})}function W(){return t(p,{children:c("div",{className:"about",children:[t("h2",{children:"About this project"}),t("p",{children:"This is a react app for users to leave feedback and review our product and service"}),t("p",{children:"Version 1.0.0"}),t("p",{children:t(w,{to:"/",children:"Back To Home"})})]})})}function X(){return t("div",{className:"about-link",children:t(w,{to:"/about",children:t(D,{size:30})})})}function Y(){return t(z,{children:c(I,{children:[t(E,{}),c("main",{className:"container",children:[c(H,{children:[t(N,{exact:!0,path:"/",element:c(S,{children:[t(J,{}),t(U,{}),t(Q,{})]})}),t(N,{path:"/about",element:t(W,{})})]}),t(X,{})]})]})})}M.render(t($.StrictMode,{children:t(Y,{})}),document.getElementById("root"));
